# 2-1. 운영체제

## 컴퓨터 시스템의 4가지 요소
computer hardware, operating system, system and application programs, users

## 역할

1. 역할
대표적인 4가지
* 자원 관리
    * 한정된 자원을 효율적으로 관리할 의무가 있음
    * 응용프로그램들이 한정된 메모리를 통해서 컴퓨터를 동작
    * 운영체제가 중간의 입장에서 자원들을 알맞은 순서로 자원을 나눠주고 회수하는 작업
* 자원보호
    * 메모리들은 중요한 자원
    * 의도치 않게 손실되거나 변형되면 오류가 발생할 수 있음 (이를 악의적인 사용자가 악용할 가능성도 충분히 생김)
    * 때문에 운영체제는 미숙한 사용자나 악의적인 사용자로부터 자원을 보호할 의무가 있음
* 하드웨어 인터페이스 제공
    * 마우스나 키보드 등을 제조사에 상관없이 사용자가 사용자가 사용할 수 있게 호환성을 보장하는 역할
    * 제조사는 자신들의 제품을 판매하면 운영체제는 드라이버라는 하드웨어 인터페이스를 설치해 사용자에게 plug & play 할 수 있게 함
* 사용자 인터페이스 제공
    * 운영체제를 사용자가 편리하게 이용할 수 있도록 사용자 인터페이스 제공
    * 이 중 우리가 가장 많이 접하는 것이 GUI(Graphical User Interface), 컴퓨터를 기면 보이는 화면이 GUI
    * 마우스 포인터나 폴더 인터페이스, 작업 표시줄, 스마트폰의 터치스크린 등 다양한 사용자 인터페이스들을 제공

사용자 인터페이스
시스템 콜
서비스(프로그램 실행, io, 파일 시스템, 커뮤니케이션, 자원 할당.. 등 많음)
제공
-> 아는대로 말해봐라!

핵심만
-> 4개로 압축

##  컴퓨터 동작의 중심은 메모리
컴퓨터 연산은 cpu. 프로그램들이 list화 되어 있음. 메모리는 메인 메모리. MM->RAM
램을 중심으로 명령 cpu에서 실행, 사용자에게 보여줌.
그림으로 보면 램이 512M. 컴퓨터에서 16G까지도 함. 램은 cpu맞춰서
ram. OS는 항상 돌아가고 있음.
컴퓨터 동작은 이런식으로 이뤄진다고 생각. job1 job2 job3 프로세스가 명령어 단위로 쪼개져서 실행(?)

## Interrupt (driven)
Interrupt : 방해

소프트웨어 인터럽트 : 소프트웨어가 스스로 인터럽트 라인을 세팅.
종류: 예외상황, system call.

시스템 콜은 시스템을 사용하기 위해서 리소스에 대한 보호가 필요해서 자원에 대한 보호 역할을 사용자 프로그램에서 맘대로 사용하면 리소스, 메모리 변화돼서 안좋은 일.
그래서 권한에 대한 mode를 나눠서 user 모드에서 커널 모드로 내려감. 인터럽트라는 것은 시스템 콜이 동작하면서 인터럽트 풀리고?

유저 어플리케이션에서 리소스 쓰고 싶은데 허락해줘. 인터럽트. 일종인 시스템 콜 실행해서 데이터 반환?

## 스토리지 종류 
메인 메모리 - 세컨드 스토리지 - 랜덤 access, 휘발성
세컨더리 스토리지 - 비휘발성 - 하드디스크, ssd / 하드디스크보다 ssd가 더 빠르다

빠른 순서로 (그림). 빠를수록 비용이 비싸짐

## 캐싱
cpu에서 연산. 연산을 뭘할지는 스케줄러. 스케줄러 리스트는 메인 메모리에서 가지고 있음. 캐시라는 것이 중간다리. 캐시가 줌을 가지고 빠르게 가져오고 가져오기. 캐시 cpu가 사용할 데이터/명령어가 있거나 없는 경우. 있는 경우는 빠르게 가져올 수 있음. 빠르게 가져오는 스토리지?
없는 경우는 

## computer-system architecture
process = cpu = core (비슷)
성능향상을 위해 컴퓨터 시스템은 여러 구조를 가진다.
멀티 프로세서 - 타입 2가지

장점 : 
1) increased throuput
2) economy of scale
3) increased reliability -> fault tolerance
결함 발생했을 때 미연에 방지. 차선이 있음. 그래서 fault를 방지할 수 있다. 예를 들면 코드로 설명하면 코드에서 에러 발생한 것을 에러 발생했을 때 에러가 occur된 함수를 예외를 만들어 주는 것을 fault tolerance라고 할 수 있다. 미리 생각을 해두고 대비책까지 짜둠.
reliablity랑 무슨 관계가 있냐면 빠를 수록 바쁜 상태가 됨. cpu가 하나가 동작을 못하면 더 발열이 심해지거나..그러한 결함에 대한 대비책이 있냐? 멀티 프로세서. 어떤 게 좋은 멀티 프로세서 구조인지.

1) asymmetric multiprocessing
 -> 하나의 BP, MM . boss-worker가 relationship.
 장점 : 적절하게 loadbalancing
 -> BP
 MM MM MM


2) symmectric myltiprocessing 
 -> ps0 ps1 ps2
 동일선상에서 동작하면서 메모리를 가져와서 수행하는 형태. 
 단점 : 7이 work, 3의 work, 2의 work 등 로드 밸런싱 x

## OS architecture
 muliprogramming(batch system)
 예전 구조. 여러 프로그램들을 처리해야할 때 ,cpu는 한 번에 하나의 작업만 가능. 작업들이 이어져 있다. 하나씩 수행. 예를 들면 zoom, browser, keynote... 실행이 끝난 후 정해진 순서대로. 스케줄링은 잡스케줄러. 스케줄링이 중요. 
 단점 : 키노트를 수행시키려면 수행될 때까지 기다려야함. cpu는 동작하고 있지만 keynote가 실행될 때까지 기다리는 시간이 길어짐

 Timesharing(multitasking)
 테스크를 멀티로 처리. 실제로 동시에 동작하는 것은 아님. cpu가 한정이 되어서. 여러가지 작업들을 MM 어떻게 동시에 처리하는 것처럼 보여줌? 동시에 여러 동작들을 할 수 있게 눈속임으로 보여줌. 연산속도가 빠르고 여러 명령어 수행. 빨라서 동시인 것으로 착각. 
 response time(반응속도)은 1초 내여야 한다.
 1초를 넘어서면 동시에 사용하는 것처럼 안보임.

1) 멀티프로그래밍(Batch 시스템)
 MM - MM - MM - MM
 하나의 프로그램이 메모리에 올라가면 cpu가 처리할 때까지 대기
 delay 발생

 2) 멀티 프로세싱
 다수의 프로세서, 서로 협력적인 일

 3) 멀티태스킹(시분할)
 눈속임.
 태스크들을 번갈아가면서 수행. 자주 번갈아가며 수행 시 동시에 task가 수행했다고 느낌.

## dual mode in OS

 리소스의 보안을 위해 유저모드/ 모드로 나뉨
 모드는 인터럽트로 인해 모드가 체인지 됨.
 유저 프로세스는 언어를 실행하면 실행창이 되고 실행되고 시스템콜 동작해서 비트 변환, 시스템콜 변환, 비트를 반환해서 시스템 콜을 반환.

 듀얼 모드에 대해 설명. 듀얼모드가 커널모드와 일반 모드가 있음. 그에 대한 보호는 커널이 담당. 인터럽트 기반으로 이뤄짐. 소프트웨어 인터럽트인 시스템 콜은 모드를 변경시킴

 9. system calls
 시스템콜은 시스템을 일하도록 깨우는 api로 생각.
 api, 어플리케이션 프로그램을 사용하기 쉽게 만들어놓은 덩어리. 함수/라이브러리 모음 개발. 
 posix api. 시스템콜은 기준에 있는 api

 시스템콜의 예제. 유닉스에서 fork, exit, wait..
 fopen. fp 선언해두고 fopen, fwrite. fclose. 명령을 저장해두고 내장함수처럼 사용?

 10. process management
 프로세스는 어려운 것이 아님. 
 프로세스와 프로그램의 차이
 프로세스는 동적, 프로그램은 정적
 프로세스는 동작중인 프로그램.

 process termination은 reusable resousce

 11. process management activities
 운영체제가 프로세스 관리를 어떤식으로 하는지.

 creating, deleting
 suspending resuming
 synchronization
 process comunication (IPc)
 (deadlock handling)

 memory management - 컴퓨터구조 이내로 메인메모리 어떤 것을 채울지
 storage - 파일 시스템 관리
 윈도우 - 메타데이터, 폴더 안 파일 정보 권한 등등
 맥 - 디렉토리, dsstore 등에 저장해두고 관리


12. 클라우드 컴퓨팅(옵션)
클라우드 관련 직군!

13. 리얼타임 OS
리얼타임 : 정해진 시간에 프로그램이 실행될 수 있도록 보장. 
affinity. 

14. user interface
user interface. 명령어로 실행. CLI. gui로 할 수 있는 것 다 할 수 있음. 사용성은 좋은데 개발자는 더 많은 업무를 위해

shell의 의미?
git-bash : bash : 표준 (많지는 않음)
iterm2 : zsh

shell은 소프트웨어, system을 더욱 잘 관리하기 위함?

15. OS structure
: kernal : 운영체제의 핵 역할을 하는 소프트웨어
스트럭쳐를 나누는게 OS의 스트럭쳐를 나누는 것과 비슷

MS-DOS는 리소스나 하드웨어에 집중하기 위해서는 app에서 가는 시간이 오래 걸림. 딜레이가 오래 걸림
|
역할을 분배해서 나눔
|
traditional UNIX : 중간에서 운영체제가 역할. 커널에서. 
커널 담당 역할이 많아지면 (cpu 스케줄링+...) 하나의 일을 특화되게는 못한다.


Microkernal system
커널에서 핵심적인 기능만 수행. interprocess comunication, memory managment, cpu scheduling
역할 간소화. user application에서 어떻게 최적화를 하느냐에 따라 달라짐.

단점은 직무유기. 개발자가 해야할 역할이 많아짐

1. 시스템프로그래밍 - 소프트웨어
시스템 프로그래밍에서 application software은 

2. MCU(micro controller unit)
임베디드 소프트웨어 설계
 
 MCU : 마이크로 컨트롤러 유닛, 작은 컴퓨터
 대표 : 라즈베리파이, 아두이노

 MCU는 임베디드 애플리케이션을 위해 설계되었고 임베디드 시스템에 널리 사용됨. 일반적으로 성능이 pc에 비해 낮음

 3. mcu는 기계를 이해

 C
 Assembly
 Machine 
 MCU=Hadware

 컴파일레이션 과정과 비슷함

 1) 파이썬 vs c
 2) 임베디드 왜 c?

 4. 컴퓨터구조 - 폰노이만?
processing unit - temp 레지스터 포함
control unit
